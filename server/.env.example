
# Server configuration
# The port the server will listen on (optional, default in code: 5001)
PORT=5001

# Node environment
NODE_ENV=development

# Debugging helpers
# Set to 1 to enable verbose score-stats debug logs in the server
DEBUG_SCORE_STATS=0

# Supabase credentials (required to allow the server to read/update bet rows)
# SUPABASE_URL should be your project's URL, e.g. https://xyzcompany.supabase.co
SUPABASE_URL=https://your-project.supabase.co

# The service role key MUST stay on the server and should never be shipped to clients or stored in
# front-end environment files. It bypasses all RLS checks. The anon key is required so the server can
# mint user-scoped clients that respect RLS when acting on behalf of authenticated users.
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here
SUPABASE_ANON_KEY=your-anon-key-here


# Redis connection URL (required to enable caching and rate-limiting)
REDIS_URL=redis://default:yourpassword@your-redis-host:port

# NFL data ingestion
# NFL_DATA_TEST_MODE options:
#   0/blank  -> live mode
#   raw/true -> copy test_nfl_data/raw/nfl_raw_live_stats into nfl_raw_live_stats and refine
#   refined  -> copy test_nfl_data/refined/nfl_refined_live_stats directly into nfl_refined_live_stats
NFL_DATA_TEST_MODE=0

# Polling cadence in seconds (min 10, max 300)
NFL_DATA_RAW_INTERVAL_SECONDS=30
NFL_DATA_REFINED_INTERVAL_SECONDS=30

# Jitter applied to raw polling interval (percent)
NFL_DATA_RAW_JITTER_PERCENT=10

# Minimum seconds between roster refreshes per team (default 86400 = 24 hours)
NFL_DATA_ROSTER_REFRESH_SECONDS=86400

# Resolution queue configuration
# Set to 0 to disable queue and use direct DB calls (default: enabled)
USE_RESOLUTION_QUEUE=1

# Max parallel resolution jobs (default: 5)
RESOLUTION_QUEUE_CONCURRENCY=5

# Set to 1 for verbose job completion logs
DEBUG_RESOLUTION_QUEUE=0
